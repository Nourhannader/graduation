<!-- <div class="renter-home">
    <div class="renter-home-left">
        <div class="renter-home-left-info">
            <img [src]="'http://localhost:5267/Images/' + renter?.image"alt="">
            <h2>{{renter?.firstName}} {{renter?.lastName}}</h2>
            <p>{{renter?.email}}</p>
        </div>
        <div class="renter-home-left-rent">
            <button><a routerLink="/renterTabs">Rent</a></button>
        </div>
    </div>



    <div class="renter-home-right">
        @if(isNew==true)
        {
        <div class="renter-home-right-getStarted">
            <button (click)="showGetStarted()">Get Started</button>
            @if(start==true)
            {
               
                <Form [formGroup]="GetStartedForm" (ngSubmit)="submitGetStarted()">
                    <input formControlName="SSN" type="text" placeholder="Enter your SSN" >
                    <div class="review-buttons">
                        <button type="submit">Submit</button>
                        <button (click)="cancelGetStarted()">Cancel</button>
                     </div>
                </Form>
            }
        </div>
        }
        @if(isNew==false)
        {
        <div class="renter-home-right-welcome">
            <p>Welcome back {{renter?.firstName}}</p>
        </div>   
        }
        <div class="renter-home-right-addReview">
            <div >
                <button (click)="showAddReview()">Add Review</button>
            </div>
            @if(addReview==true)
            {
                
                <Form [formGroup]="AddReviewForm" (ngSubmit)="submitReview()">
                    <input formControlName="content" type="text" placeholder="Write your review here..." >
                    <input formControlName="rate" type="text" placeholder="Rate (1-5)" >

                    <div class="review-buttons">
                        <button type="submit">Submit</button>
                        <button (click)="cancelReview()">Cancel</button>
                     </div>
                </Form>
            }
        </div>
    </div>
</div> -->

<!-- new version -->
<div class="content-all">
    <div class="floating-elements">
      <div class="floating-circle circle-1"></div>
      <div class="floating-circle circle-2"></div>
      <div class="floating-circle circle-3"></div>
    </div>
  <div class="mainDiv">
    
    <div class="infoDiv">
      <img [src]="renter?.image" alt="" />
      <button class="edit-btnUser" (click)="showPopup = true">
        <i class="bi bi-pencil"></i>
      </button>
      <h2>{{ renter?.firstName }} {{ renter?.lastName }}</h2>
      <p>{{ renter?.email }}</p>
    </div>
    @if(isNew==true) {
    <div class="getStarted">
      <p>Start your experience with us by entering your national ID</p>
      <div class="startWithBtn">
        <button class="startBtn" (click)="showGetStarted()">Get Started</button>
        @if(start==true) {
        <Form [formGroup]="GetStartedForm" (ngSubmit)="submitGetStarted()">
          <input
            formControlName="SSN"
            type="text"
            placeholder="Enter your national ID"
            class="form-control"
          />
          @if(GetStartedForm.get('SSN')?.errors &&
          GetStartedForm.get('SSN')?.touched) {
          @if(GetStartedForm.get('SSN')?.hasError('required')) {
          <p class="error">This field is required</p>
          } @if(GetStartedForm.get('SSN')?.hasError('pattern')) {
          <p class="error">Invalid ID</p>
          } }
          <div class="review-buttons">
            <button
              class="submit"
              type="submit"
              [disabled]="!GetStartedForm.valid"
            >
              Submit
            </button>
            <button class="cancel" (click)="cancelGetStarted()">Cancel</button>
          </div>
        </Form>
        }
      </div>
    </div>
    } @if(isNew==false) {
    <div class="renterOptions">
      <div class="option">
        <button>
          <i class="bi bi-currency-dollar"></i
          ><a routerLink="/renterTabs">Check my rent</a>
        </button>
      </div>
      <div class="option">
        <button (click)="showAddReview()">
          <i class="bi bi-star-half"></i><a>Add Review</a>
        </button>
      </div>
      @if(addReview==true) {
      <div class="background">
        <Form [formGroup]="AddReviewForm" (ngSubmit)="submitReview()">
          <input
            formControlName="content"
            type="text"
            placeholder="Write your review here..."
            class="form-control"
          />
          @if(AddReviewForm.get('content')?.errors &&
          AddReviewForm.get('content')?.touched) {
          @if(AddReviewForm.get('content')?.hasError('required')) {
          <p class="error">This field is required</p>
          } }
          <input
            formControlName="rate"
            type="text"
            placeholder="Rate (1-5)"
            class="form-control"
          />
          @if(AddReviewForm.get('rate')?.errors &&
          AddReviewForm.get('rate')?.touched) {
          @if(AddReviewForm.get('rate')?.hasError('required')) {
          <p class="error">This field is required</p>
          } @if(AddReviewForm.get('rate')?.hasError('pattern')) {
          <p class="error">Invalid Rating</p>
          } }
          <div class="review-buttons">
            <button
              class="submit"
              type="submit"
              [disabled]="!AddReviewForm.valid"
            >
              Submit
            </button>
            <button class="cancel" (click)="cancelReview()">Cancel</button>
          </div>
        </Form>
      </div>
      }
    </div>
    }
  </div>
</div>

<!-- Custom Popup -->
 @if(showPopup){
<div class="popup-backdrop" >
  <div class="popup-card">
    <h5>Upload New Profile Image</h5>

    <input
      type="file"
      (change)="onImageSelected($event)"
      accept="image/*"
      class="form-control"
    />

    <!-- Preview -->
    <div *ngIf="previewUrl" class="mt-3 text-center">
      <img [src]="previewUrl" class="img-fluid rounded" style="max-height: 200px;" />
    </div>

    <div class="popup-actions">
      <button class="btn btn-secondary" (click)="closePopup()">Cancel</button>
      <button class="btn btn-primary" (click)="uploadImage()" [disabled]="!selectedFile">
        Upload
      </button>
    </div>
  </div>
</div>
 }
